webpackJsonp([1],{"0lUw":function(e,t){},"4LLy":function(e,t){},"6qa6":function(e,t){},"7zck":function(e,t){},"8JcL":function(e,t,a){e.exports=a.p+"static/img/logo.46e5d06.jpeg"},E3eu:function(e,t){},HhLt:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),i=a("3EgV"),s=a.n(i),r=a("kxiW"),o=a.n(r),c={data:function(){return{user:K.profile,loggedin:K.logged,userdata:K.data,loading:!0,admin:!1}},created:function(){var e=this;o.a.auth().onAuthStateChanged(function(t){t?(K.logged=!0,e.loggedin=!0,O.collection("users").doc(t.uid).get().then(function(a){K.profile=t,e.user=t,K.data=a.data(),e.userdata=a.data(),e.admin=e.userdata.admin,e.loading=!1})):(K.logged=!1,e.loggedin=!1,K.profile=null,e.user=null,K.data=null,e.userdata=null,e.admin=!1,e.loading=!1)})},methods:{logOut:function(){var e=this;o.a.auth().signOut().then(function(){console.log("Signed Out"),e.$router.replace("/")},function(e){console.error("Sign Out Error",e)})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.loading?e._e():a("v-content",[a("v-toolbar",[e.userdata?a("v-toolbar-title",[e._v("Bonjour "+e._s(e.userdata.firstname))]):e._e(),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[e.admin?a("v-btn",{attrs:{flat:"",to:"/addevent"}},[e._v("Ajouter un évenement")]):e._e(),e._v(" "),e.admin?a("v-btn",{attrs:{flat:"",to:"/admineventcontainer"}},[e._v("Gérer ses évenements")]):e._e(),e._v(" "),e.loggedin?a("v-btn",{attrs:{flat:""},on:{click:e.logOut}},[e._v("Se déconnecter")]):e._e(),e._v(" "),e.loggedin?e._e():a("v-btn",{attrs:{flat:"",to:"/connexion"}},[e._v("Se connecter")])],1)],1),e._v(" "),a("router-view")],1)],1)},staticRenderFns:[]},u=a("VU/8")(c,l,!1,null,null,null).exports,d=a("/ocq"),v={data:function(){return{user:o.a.auth().currentUser,loggedin:!1}},created:function(){var e=this;o.a.auth().onAuthStateChanged(function(t){e.user=t,t?(e.loggedin=!0,e.$router.replace("/home")):e.loggedin=!1})},methods:{}},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"welcome"},[t("div",[t("div",{staticClass:"p200"}),this._v(" "),t("img",{staticClass:"logo",attrs:{src:a("8JcL")}}),this._v(" "),t("div",{staticClass:"p20"}),this._v(" "),t("v-btn",{attrs:{large:"",center:"",color:"primary",to:"/connexion"}},[this._v("Se connecter")]),t("br"),this._v(" "),t("v-btn",{attrs:{large:"",center:"",color:"primary",to:"/register"}},[this._v("Créer un compte")])],1)])},staticRenderFns:[]};var x=a("VU/8")(v,m,!1,function(e){a("r+Yn")},null,null).exports,p={data:function(){return{email:"",password:"",snackbar:{active:!1,message:"Problème d'identification"}}},methods:{signIn:function(){var e=this;o.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(){e.$router.replace("/home")}).catch(function(t){e.snackbar.active=!0})}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"welcome"},[a("div",[a("div",{staticClass:"p200"}),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"p20"}),e._v(" "),a("v-form",{staticClass:"form"},[a("v-text-field",{staticClass:"form2",attrs:{large:"",label:"Identifiant"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("v-text-field",{staticClass:"form2",attrs:{large:"",label:"Mot de passe",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("v-btn",{attrs:{large:"",color:"primary"},on:{click:e.signIn}},[e._v("Se connecter")])],1),e._v(" "),a("v-snackbar",{attrs:{timeout:6e3,bottom:""},model:{value:e.snackbar.active,callback:function(t){e.$set(e.snackbar,"active",t)},expression:"snackbar.active"}},[e._v("\n              "+e._s(e.snackbar.message)+"\n              "),a("v-btn",{attrs:{flat:"",color:"primary"},nativeOn:{click:function(t){e.snackbar.active=!1}}},[e._v("Close")])],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{staticClass:"logo",attrs:{src:a("8JcL")}})])}]};var f=a("VU/8")(p,b,!1,function(e){a("0lUw")},null,null).exports,h={data:function(){var e=this;return{email:"",password:"",password2:"",name:"",firstname:"",phonenb:"",birthdate:"",genre:null,job:null,secteur:null,country:null,sport:null,course:[],hobby:[],user:[],rules:{required:function(e){return!!e||"Requis"},email:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Email invalide"},lengthy:function(e){return e.length>=8||"Le mot de passe doit contenir au moins 8 caractères"},same:function(t){return e.password===t||"Les mots de passe ne sont pas identiques"}},snackbar:{active:!1,message:"Problème d'identification"},genres:[{text:"Homme",id:"0"},{text:"Femme",id:"1"},{text:"Transgenre",id:"2"},{text:"Ne se prononce pas",id:"3"}],jobs:[{text:"Etudiant ou stagiaire"},{text:"Emploi salarié"},{text:"Emploi non salarié"},{text:"Sans emploi"},{text:"Retraité"},{text:"Changement de situation professionnelle"},{text:"Autre"}],secteurs:[{text:"Agriculture"},{text:"Industrie extractive"},{text:"Industrie manufacturière"},{text:"Production et distribution d'énergie"},{text:"Construction"},{text:"Commerce"},{text:"Transport et entreposage"},{text:"Hébergement et restauration"},{text:"Information et communication"},{text:"Activité financière et assurance"},{text:"Activité immobilière"},{text:"Activité scientifique et technique"},{text:"Service administratif"},{text:"Enseignement"},{text:"Santé humaine"},{text:"Action sociale"},{text:"Art et spectacle"},{text:"Autres activités de service"},{text:"Autres"}],countries:[{text:"AF - Afghanistan"},{text:"ZA - Afrique du Sud"},{text:"AL - Albanie"},{text:"DZ - Algérie"},{text:"DE - Allemagne"},{text:"AD - Andorre"},{text:"AO - Angola"},{text:"AI - Anguilla"},{text:"AQ - Antarctique"},{text:"AG - Antigua-et-Barbuda"},{text:"SA - Arabie saoudite"},{text:"AR - Argentine"},{text:"AM - Arménie"},{text:"AW - Aruba"},{text:"AU - Australie"},{text:"AT - Autriche"},{text:"AZ - Azerbaïdjan"},{text:"BS - Bahamas"},{text:"BH - Bahreïn"},{text:"BD - Bangladesh"},{text:"BB - Barbade"},{text:"BE - Belgique"},{text:"BZ - Belize"},{text:"BJ - Bénin"},{text:"BM - Bermudes"},{text:"BT - Bhoutan"},{text:"BY - Biélorussie"},{text:"BO - Bolivie"},{text:"BA - Bosnie-Herzégovine"},{text:"BW - Botswana"},{text:"BR - Brésil"},{text:"BN - Brunéi Darussalam"},{text:"BG - Bulgarie"},{text:"BF - Burkina Faso"},{text:"BI - Burundi"},{text:"KH - Cambodge"},{text:"CM - Cameroun"},{text:"CA - Canada"},{text:"CV - Cap-Vert"},{text:"EA - Ceuta et Melilla"},{text:"CL - Chili"},{text:"CN - Chine"},{text:"CY - Chypre"},{text:"CO - Colombie"},{text:"KM - Comores"},{text:"CG - Congo-Brazzaville"},{text:"CD - Congo-Kinshasa"},{text:"KP - Corée du Nord"},{text:"KR - Corée du Sud"},{text:"CR - Costa Rica"},{text:"CI - Côte d’Ivoire"},{text:"HR - Croatie"},{text:"CU - Cuba"},{text:"CW - Curaçao"},{text:"DK - Danemark"},{text:"DG - Diego Garcia"},{text:"DJ - Djibouti"},{text:"DM - Dominique"},{text:"EG - Égypte"},{text:"SV - El Salvador"},{text:"AE - Émirats arabes unis"},{text:"EC - Équateur"},{text:"ER - Érythrée"},{text:"ES - Espagne"},{text:"EE - Estonie"},{text:"VA - État de la Cité du Vatican"},{text:"FM - États fédérés de Micronésie"},{text:"US - États-Unis"},{text:"ET - Éthiopie"},{text:"EZ - Eurozone"},{text:"FJ - Fidji"},{text:"FI - Finlande"},{text:"FR - France"},{text:"GA - Gabon"},{text:"GM - Gambie"},{text:"GE - Géorgie"},{text:"GS - Géorgie du Sud et îles Sandwich du Sud"},{text:"GH - Ghana"},{text:"GI - Gibraltar"},{text:"GR - Grèce"},{text:"GD - Grenade"},{text:"GL - Groenland"},{text:"GP - Guadeloupe"},{text:"GU - Guam"},{text:"GT - Guatemala"},{text:"GG - Guernesey"},{text:"GN - Guinée"},{text:"GQ - Guinée équatoriale"},{text:"GW - Guinée-Bissau"},{text:"GY - Guyana"},{text:"GF - Guyane française"},{text:"HT - Haïti"},{text:"HN - Honduras"},{text:"HU - Hongrie"},{text:"CX - Île Christmas"},{text:"AC - Île de l’Ascension"},{text:"IM - Île de Man"},{text:"NF - Île Norfolk"},{text:"AX - Îles Åland"},{text:"KY - Îles Caïmans"},{text:"IC - Îles Canaries"},{text:"CC - Îles Cocos"},{text:"CK - Îles Cook"},{text:"FO - Îles Féroé"},{text:"FK - Îles Malouines"},{text:"MP - Îles Mariannes du Nord"},{text:"MH - Îles Marshall"},{text:"UM - Îles mineures éloignées des États-Unis"},{text:"PN - Îles Pitcairn"},{text:"SB - Îles Salomon"},{text:"TC - Îles Turques-et-Caïques"},{text:"VG - Îles Vierges britanniques"},{text:"VI - Îles Vierges des États-Unis"},{text:"IN - Inde"},{text:"ID - Indonésie"},{text:"IQ - Irak"},{text:"IR - Iran"},{text:"IE - Irlande"},{text:"IS - Islande"},{text:"IL - Israël"},{text:"IT - Italie"},{text:"JM - Jamaïque"},{text:"JP - Japon"},{text:"JE - Jersey"},{text:"JO - Jordanie"},{text:"KZ - Kazakhstan"},{text:"KE - Kenya"},{text:"KG - Kirghizistan"},{text:"KI - Kiribati"},{text:"XK - Kosovo"},{text:"KW - Koweït"},{text:"RE - La Réunion"},{text:"LA - Laos"},{text:"LS - Lesotho"},{text:"LV - Lettonie"},{text:"LB - Liban"},{text:"LR - Libéria"},{text:"LY - Libye"},{text:"LI - Liechtenstein"},{text:"LT - Lituanie"},{text:"LU - Luxembourg"},{text:"MK - Macédoine"},{text:"MG - Madagascar"},{text:"MY - Malaisie"},{text:"MW - Malawi"},{text:"MV - Maldives"},{text:"ML - Mali"},{text:"MT - Malte"},{text:"MA - Maroc"},{text:"MQ - Martinique"},{text:"MU - Maurice"},{text:"MR - Mauritanie"},{text:"YT - Mayotte"},{text:"MX - Mexique"},{text:"MD - Moldavie"},{text:"MC - Monaco"},{text:"MN - Mongolie"},{text:"ME - Monténégro"},{text:"MS - Montserrat"},{text:"MZ - Mozambique"},{text:"MM - Myanmar (Birmanie)"},{text:"NA - Namibie"},{text:"UN - Nations Unies"},{text:"NR - Nauru"},{text:"NP - Népal"},{text:"NI - Nicaragua"},{text:"NE - Niger"},{text:"NG - Nigéria"},{text:"NU - Niue"},{text:"NO - Norvège"},{text:"NC - Nouvelle-Calédonie"},{text:"NZ - Nouvelle-Zélande"},{text:"OM - Oman"},{text:"UG - Ouganda"},{text:"UZ - Ouzbékistan"},{text:"PK - Pakistan"},{text:"PW - Palaos"},{text:"PA - Panama"},{text:"PG - Papouasie-Nouvelle-Guinée"},{text:"PY - Paraguay"},{text:"NL - Pays-Bas"},{text:"BQ - Pays-Bas caribéens"},{text:"PE - Pérou"},{text:"PH - Philippines"},{text:"PL - Pologne"},{text:"PF - Polynésie française"},{text:"PR - Porto Rico"},{text:"PT - Portugal"},{text:"QA - Qatar"},{text:"HK - R.A.S. chinoise de Hong Kong"},{text:"MO - R.A.S. chinoise de Macao"},{text:"CF - République centrafricaine"},{text:"DO - République dominicaine"},{text:"RO - Roumanie"},{text:"GB - Royaume-Uni"},{text:"RU - Russie"},{text:"RW - Rwanda"},{text:"EH - Sahara occidental"},{text:"BL - Saint-Barthélemy"},{text:"KN - Saint-Christophe-et-Niévès"},{text:"SM - Saint-Marin"},{text:"MF - Saint-Martin"},{text:"SX - Saint-Martin (partie néerlandaise)"},{text:"PM - Saint-Pierre-et-Miquelon"},{text:"VC - Saint-Vincent-et-les-Grenadines"},{text:"SH - Sainte-Hélène"},{text:"LC - Sainte-Lucie"},{text:"WS - Samoa"},{text:"AS - Samoa américaines"},{text:"ST - Sao Tomé-et-Principe"},{text:"SN - Sénégal"},{text:"RS - Serbie"},{text:"SC - Seychelles"},{text:"SL - Sierra Leone"},{text:"SG - Singapour"},{text:"SK - Slovaquie"},{text:"SI - Slovénie"},{text:"SO - Somalie"},{text:"SD - Soudan"},{text:"SS - Soudan du Sud"},{text:"LK - Sri Lanka"},{text:"SE - Suède"},{text:"CH - Suisse"},{text:"SR - Suriname"},{text:"SJ - Svalbard et Jan Mayen"},{text:"SZ - Swaziland"},{text:"SY - Syrie"},{text:"TJ - Tadjikistan"},{text:"TW - Taïwan"},{text:"TZ - Tanzanie"},{text:"TD - Tchad"},{text:"CZ - Tchéquie"},{text:"TF - Terres australes françaises"},{text:"IO - Territoire britannique de l’océan Indien"},{text:"PS - Territoires palestiniens"},{text:"TH - Thaïlande"},{text:"TL - Timor oriental"},{text:"TG - Togo"},{text:"TK - Tokélaou"},{text:"TO - Tonga"},{text:"TT - Trinité-et-Tobago"},{text:"TA - Tristan da Cunha"},{text:"TN - Tunisie"},{text:"TM - Turkménistan"},{text:"TR - Turquie"},{text:"TV - Tuvalu"},{text:"UA - Ukraine"},{text:"UY - Uruguay"},{text:"VU - Vanuatu"},{text:"VE - Venezuela"},{text:"VN - Vietnam"},{text:"WF - Wallis-et-Futuna"},{text:"YE - Yémen"},{text:"ZM - Zambie"},{text:"ZW - Zimbabwe"}],sports:[{text:"Natation"},{text:"Boxe"},{text:"Volley"},{text:"Dance"},{text:"Foot"},{text:"Gym"},{text:"Tennis"},{text:"Course"},{text:"Yoga"}],courses:[{text:"Langues"},{text:"Histoire"},{text:"Littérature"},{text:"Mathématiques"},{text:"Biologie"},{text:"Physique"},{text:"Economie"},{text:"Droit"},{text:"Sciences sociales"}],hobbies:[{text:"Musique"},{text:"Jeux vidéos"},{text:"Peinture"},{text:"Photographie"},{text:"Religion"},{text:"Evenements culturel"},{text:"Théatre"},{text:"Gastronomie"},{text:"Bricolage"}]}},methods:{signUp:function(){var e=this;this.$refs.form.validate()?o.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(){e.user=o.a.auth().currentUser,O.collection("users").doc(e.user.uid).set({email:e.email,name:e.name,admin:!1,firstname:e.firstname,phonenb:e.phonenb,birthdate:e.birthdate,genre:e.genre,job:e.job,secteur:e.secteur,country:e.country,sport:e.sport,course:e.course,hobby:e.hobby}).then(function(){console.log("Document successfully written!"),e.$router.replace("/home")}).catch(function(t){console.error("Error writing document: ",t),e.snackbar.active=!0})}).catch(function(t){e.snackbar.active=!0,console.log(t)}):this.snackbar.active=!0}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top"}),e._v(" "),a("v-form",{ref:"form",staticClass:"container"},[a("b",{staticClass:"b"},[e._v("Informations de connection")]),e._v(" "),a("v-text-field",{staticClass:"input",attrs:{large:"",label:"Email",rules:[e.rules.required,e.rules.email]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("v-text-field",{staticClass:"input",attrs:{large:"",label:"Mot de passe",rules:[e.rules.required,e.rules.lengthy],type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("v-text-field",{staticClass:"input",attrs:{large:"",label:"Mot de passe (confirmation)",rules:[e.rules.required,e.rules.same],type:"password"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),e._v(" "),a("div",{staticClass:"top"}),e._v(" "),a("b",{staticClass:"b"},[e._v("Votre identité")]),e._v(" "),a("v-text-field",{staticClass:"input",attrs:{large:"",label:"Nom"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("v-text-field",{staticClass:"input",attrs:{large:"",label:"Prénom"},model:{value:e.firstname,callback:function(t){e.firstname=t},expression:"firstname"}}),e._v(" "),a("v-text-field",{staticClass:"input",attrs:{large:"","prepend-icon":"phone",label:"Numéro de téléphone"},model:{value:e.phonenb,callback:function(t){e.phonenb=t},expression:"phonenb"}}),e._v(" "),a("v-text-field",{staticClass:"input",attrs:{large:"",label:"Date de naissance (JJ/MM/AAAA)"},model:{value:e.birthdate,callback:function(t){e.birthdate=t},expression:"birthdate"}}),e._v(" "),a("v-select",{attrs:{items:e.genres,"item-value":"text",label:"Indiquer votre genre"},model:{value:e.genre,callback:function(t){e.genre=t},expression:"genre"}}),e._v(" "),a("v-select",{attrs:{items:e.jobs,"item-value":"text",label:"Indiquer votre situation professionnelle"},model:{value:e.job,callback:function(t){e.job=t},expression:"job"}}),e._v(" "),a("v-select",{attrs:{items:e.secteurs,"item-value":"text",label:"Indiquer votre secteur d\\'activité"},model:{value:e.secteur,callback:function(t){e.secteur=t},expression:"secteur"}}),e._v(" "),a("v-select",{attrs:{items:e.countries,"item-value":"text",autocomplete:"",label:"Indiquer votre nationalité"},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}}),e._v(" "),a("div",{staticClass:"top"}),e._v(" "),a("b",{staticClass:"b"},[e._v("Intérets")]),e._v(" "),a("v-select",{attrs:{items:e.sports,"item-value":"text",hint:"Indiquer vos sports préférés",multiple:"",chips:"","persistent-hint":""},model:{value:e.sport,callback:function(t){e.sport=t},expression:"sport"}}),e._v(" "),a("v-select",{attrs:{items:e.courses,"item-value":"text",hint:"Indiquer les matières qui vous intéressent",multiple:"",chips:"","persistent-hint":""},model:{value:e.course,callback:function(t){e.course=t},expression:"course"}}),e._v(" "),a("v-select",{attrs:{items:e.hobbies,"item-value":"text",hint:"Indiquer vos passions",multiple:"",chips:"","persistent-hint":""},model:{value:e.hobby,callback:function(t){e.hobby=t},expression:"hobby"}}),e._v(" "),a("div",{staticClass:"top"}),e._v(" "),a("v-btn",{attrs:{large:"",block:"",center:"",color:"primary"},on:{click:e.signUp}},[e._v("Créer un compte")])],1),e._v(" "),a("v-snackbar",{attrs:{timeout:6e3,bottom:""},model:{value:e.snackbar.active,callback:function(t){e.$set(e.snackbar,"active",t)},expression:"snackbar.active"}},[e._v("\n\t\t"+e._s(e.snackbar.message)+"\n\t\t"),a("v-btn",{attrs:{flat:"",color:"primary"},nativeOn:{click:function(t){e.snackbar.active=!1}}},[e._v("Close")])],1)],1)},staticRenderFns:[]};var _=a("VU/8")(h,g,!1,function(e){a("6qa6")},null,null).exports,C={data:function(){return{user:o.a.auth().currentUser}},mounted:function(){var e=this;o.a.auth().onAuthStateChanged(function(t){e.user=t,t||e.$router.replace("/")})},methods:{}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main"},[t("div",{staticClass:"container"},[t("p",{attrs:{align:"center"}},[t("router-link",{attrs:{to:"/eventcontainer"}},[t("img",{staticClass:"image",attrs:{src:a("fKkC")}})])],1),this._v(" "),t("p",{attrs:{align:"center"}},[t("router-link",{attrs:{to:"/eventcontainer"}},[t("img",{staticClass:"image",attrs:{src:a("THiz")}})])],1),this._v(" "),t("p",{attrs:{align:"center"}},[t("router-link",{attrs:{to:"/eventcontainer"}},[t("img",{staticClass:"image",attrs:{src:a("VUXg")}})])],1)])])},staticRenderFns:[]};var y=a("VU/8")(C,k,!1,function(e){a("qG1q")},null,null).exports,S=a("bOdI"),M=a.n(S),A={data:function(){var e;return e={user:o.a.auth().currentUser,events:[],display:!1,snackbar:{active:!1,message:"Il manque des informations pour créer l'évenement"}},M()(e,"user",K.profile),M()(e,"userdata",K.data),e},created:function(){var e=this;this.user=K.profile,this.user&&O.collection("events").get().then(function(t){t.forEach(function(t){var a=t.data();a.id=t.id,a.disabled=!1,a.subscribed=a.participants.indexOf(e.user.uid)>=0,(a.useremail==e.user.email||a.participants.length>=a.nbmax)&&(a.disabled=!0),e.events.push(a)})})},methods:{subscribe:function(e){if(this.user=K.profile,this.user)if(e.participants.length<e.nbmax){var t=e.participants;t.push(this.user.uid),O.collection("events").doc(e.id).set({useremail:e.useremail,name:e.name,date:e.date,description:e.description,adress:e.adress,category:e.category,preciseCategory:e.preciseCategory,nbmax:e.nbmax,participants:t}),(e.useremail==this.user.email||e.participants.length>=e.nbmax)&&(e.disabled=!0),e.subscribed=!0}else console.log("the event is full");else console.log("no user or no user data")},unsubscribe:function(e){if(this.user=K.profile,this.user)if(e.useremail!=this.user.email){var t=[];console.log(e.participants),console.log(this.user.uid);for(var a=0;a<e.participants.length;a++)e.participants[a]!=this.user.uid&&t.push(e.participants[a]);O.collection("events").doc(e.id).set({useremail:e.useremail,name:e.name,date:e.date,description:e.description,adress:e.adress,category:e.category,preciseCategory:e.preciseCategory,nbmax:e.nbmax,participants:t}).then(function(){console.log("unsubscribed!"),e.participants=t,console.log("unsubscribed")}).catch(function(e){console.error("Error writing document: ",e)}),e.subscribed=!1}else console.log("the user created the event");else console.log("no user or no user data")},isIn:function(e,t){var a=!1;for(item in e)item===t&&(a=!0);return a}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.events,function(t){return n("div",{staticClass:"container"},[n("h1",{staticClass:"bigtitle"},[e._v(e._s(t.name))]),n("br"),n("br"),e._v(" "),n("p",{staticClass:"adress"},[e._v(e._s(t.adress))]),n("p",{staticClass:"date"},[e._v(e._s(t.date))]),e._v(" "),n("img",{attrs:{src:a("heaM"),width:"100%"}}),e._v(" "),n("p",[t.description?n("b",{staticClass:"bold"},[e._v("Description : ")]):e._e(),e._v(e._s(t.description))]),e._v(" "),n("p",{staticClass:"center"},[e._v(e._s(t.participants.length)+" / "+e._s(t.nbmax))]),e._v(" "),t.subscribed?e._e():n("v-btn",{attrs:{block:"",disabled:t.disabled,large:"",color:"primary"},on:{click:function(a){e.subscribe(t)}}},[e._v("S'inscrire")]),e._v(" "),t.subscribed?n("v-btn",{attrs:{block:"",disabled:t.disabled,large:""},on:{click:function(a){e.unsubscribe(t)}}},[e._v("Se désinscrire")]):e._e(),n("br"),n("br"),e._v(" "),n("v-snackbar",{attrs:{timeout:6e3,bottom:""},model:{value:e.snackbar.active,callback:function(t){e.$set(e.snackbar,"active",t)},expression:"snackbar.active"}},[e._v("\n\t\t\t"+e._s(e.snackbar.message)+"\n\t\t"),n("v-btn",{attrs:{flat:"",color:"primary"},nativeOn:{click:function(t){e.snackbar.active=!1}}},[e._v("Close")])],1)],1)}))},staticRenderFns:[]};var q=a("VU/8")(A,E,!1,function(e){a("OJZX")},null,null).exports,I={data:function(){return{name:"",date:null,menu:!1,description:"",adress:"",category:"",preciseCategory:"",nbmax:10,participants:[],rules:{required:function(e){return!!e||"Ce champ est obligatoire pour la création de l'événement"},nameRules:function(e){return e.length<=50||"Le nom est trop long"},descriptionRules:function(e){return e.length<=400||"La description est trop longue"},numberRules:function(e){return e>=10||"Le nombre de résidents minimum invitable est 10"}},snackbar:{active:!1,message:"Il manque des informations pour créer l'évenement"},categories:[{text:"Sport"},{text:"Cours"},{text:"Loisir"}],sports:[{text:"Natation"},{text:"Boxe"},{text:"Volley"},{text:"Dance"},{text:"Football"},{text:"Gym"},{text:"Tennis"},{text:"Course"},{text:"Yoga"}],courses:[{text:"Langues"},{text:"Histoire"},{text:"Littérature"},{text:"Mathématiques"},{text:"Biologie"},{text:"Physique"},{text:"Economie"},{text:"Droit"},{text:"Sciences sociales"}],hobbies:[{text:"Musique"},{text:"Jeux vidéos"},{text:"Peinture"},{text:"Photographie"},{text:"Religion"},{text:"Evenements culturel"},{text:"Théatre"},{text:"Gastronomie"},{text:"Bricolage"}]}},methods:{addEvent:function(){var e=this;this.$refs.form.validate()?this.date?this.preciseCategory?(this.user=o.a.auth().currentUser,O.collection("events").add({useremail:this.user.email,name:this.name,date:this.dateFilter(this.date),description:this.description,adress:this.adress,category:this.category,preciseCategory:this.preciseCategory,nbmax:this.nbmax,participants:this.participants}).then(function(){console.log("Event successfully added!"),e.$router.replace("/home")}).catch(function(t){console.error("Error writing document: ",t),e.snackbar.message="erreur d'écriture de la database",e.snackbar.active=!0})):(this.snackbar.message="category problem",this.snackbar.active=!0):(this.snackbar.message="date problem",this.snackbar.active=!0):(this.snackbar.message="form problem",this.snackbar.active=!0)},dateFilter:function(e){return 10==e.length?(e=e.split("-"))[2]+"-"+e[1]+"-"+e[0]:"problem with date format"}}},G={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-form",{ref:"form",staticClass:"container"},[a("br"),e._v(" "),a("v-text-field",{attrs:{counter:50,rules:[e.rules.nameRules,e.rules.required],label:"Nom de l'article"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.date=t}},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Date de l'évenement","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),e._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.$refs.menu.save(e.date)}}},[e._v("OK")])],1)],1),e._v(" "),a("v-text-field",{attrs:{rules:[e.rules.required],label:"Adresse de l'évenement"},model:{value:e.adress,callback:function(t){e.adress=t},expression:"adress"}}),e._v(" "),a("v-text-field",{attrs:{"multi-line":"",counter:400,rules:[e.rules.descriptionRules],label:"Description de l'article"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),e._v(" "),a("v-text-field",{attrs:{type:"number",label:"Nombre maximum de personnes à l'évenement",rules:[e.rules.numberRules]},model:{value:e.nbmax,callback:function(t){e.nbmax=e._n(t)},expression:"nbmax"}}),e._v(" "),a("v-select",{attrs:{items:e.categories,"item-value":"text",rules:[e.rules.required],hint:"Indiquer la catégorie de l'évenement","persistent-hint":""},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),e._v(" "),"Sport"==e.category?a("v-select",{attrs:{items:e.sports,"item-value":"text",hint:"Indiquer le sport concerné","persistent-hint":""},model:{value:e.preciseCategory,callback:function(t){e.preciseCategory=t},expression:"preciseCategory"}}):e._e(),e._v(" "),"Cours"==e.category?a("v-select",{attrs:{items:e.courses,"item-value":"text",hint:"Indiquer la matière concernée","persistent-hint":""},model:{value:e.preciseCategory,callback:function(t){e.preciseCategory=t},expression:"preciseCategory"}}):e._e(),e._v(" "),"Loisir"==e.category?a("v-select",{attrs:{items:e.hobbies,"item-value":"text",hint:"Indiquer le loisir concerné","persistent-hint":""},model:{value:e.preciseCategory,callback:function(t){e.preciseCategory=t},expression:"preciseCategory"}}):e._e(),a("br"),e._v(" "),a("v-btn",{attrs:{large:"",block:"",center:"",color:"primary"},on:{click:e.addEvent}},[e._v("Ajouter un évenement")]),e._v(" "),a("v-snackbar",{attrs:{timeout:6e3,bottom:""},model:{value:e.snackbar.active,callback:function(t){e.$set(e.snackbar,"active",t)},expression:"snackbar.active"}},[e._v("\n\t\t\t"+e._s(e.snackbar.message)+"\n\t\t\t"),a("v-btn",{attrs:{flat:"",color:"primary"},nativeOn:{click:function(t){e.snackbar.active=!1}}},[e._v("Close")])],1)],1)],1)},staticRenderFns:[]};var T=a("VU/8")(I,G,!1,function(e){a("HhLt")},null,null).exports,B={data:function(){var e;return e={user:o.a.auth().currentUser,events:[],display:!1,snackbar:{active:!1,message:"Il manque des informations pour créer l'évenement"}},M()(e,"user",K.profile),M()(e,"userdata",K.data),e},created:function(){var e=this;this.user=K.profile,this.user&&O.collection("events").get().then(function(t){t.forEach(function(t){var a=t.data();a.useremail==e.user.email&&(a.id=t.id,e.events.push(a))})})},methods:{deleteEvent:function(e){O.collection("events").doc(e.id).delete().then(function(){console.log("Document successfully deleted!"),location.reload()}).catch(function(e){console.error("Error removing document: ",e),this.snackbar.message="Nous n'avons pas pu supprimer l'évenement",this.snackbar.active=!0})},isIn:function(e,t){var a=!1;for(item in e)item===t&&(a=!0);return a}}},L={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.events,function(t){return n("div",{staticClass:"container"},[n("h1",{staticClass:"bigtitle"},[e._v(e._s(t.name))]),n("br"),n("br"),e._v(" "),n("p",{staticClass:"adress"},[e._v(e._s(t.adress))]),n("p",{staticClass:"date"},[e._v(e._s(t.date))]),e._v(" "),n("img",{attrs:{src:a("heaM"),width:"100%"}}),e._v(" "),n("p",[t.description?n("b",{staticClass:"bold"},[e._v("Description : ")]):e._e(),e._v(e._s(t.description))]),e._v(" "),n("p",{staticClass:"center"},[e._v(e._s(t.participants.length)+" / "+e._s(t.nbmax))]),e._v(" "),n("v-btn",{attrs:{block:"",large:"",color:"primary",to:"/modifyevent?"+t.id}},[e._v("Modifier l'évenement")]),e._v(" "),n("v-btn",{attrs:{block:"",large:"",color:"primary",to:"/adminparticipantmanager?"+t.id}},[e._v("Gérer les participants")]),e._v(" "),n("v-btn",{attrs:{block:"",large:"",color:"primary"},on:{click:function(a){e.deleteEvent(t)}}},[e._v("Supprimer l'évenement")]),e._v(" "),n("v-snackbar",{attrs:{timeout:6e3,bottom:""},model:{value:e.snackbar.active,callback:function(t){e.$set(e.snackbar,"active",t)},expression:"snackbar.active"}},[e._v("\n\t\t\t"+e._s(e.snackbar.message)+"\n\t\t"),n("v-btn",{attrs:{flat:"",color:"primary"},nativeOn:{click:function(t){e.snackbar.active=!1}}},[e._v("Close")])],1)],1)}))},staticRenderFns:[]};var R=a("VU/8")(B,L,!1,function(e){a("4LLy")},null,null).exports,N={data:function(){var e;return e={user:o.a.auth().currentUser,users:[],event:null,display:!1,loaded:!1,snackbar:{active:!1,message:"Il manque des informations pour créer l'évenement"}},M()(e,"user",K.profile),M()(e,"userdata",K.data),e},created:function(){var e=this;this.user=K.profile;var t=document.location.href.split("?");console.log(t[1]),console.log(this.event),this.user&&O.collection("events").doc(t[1]).get().then(function(t){e.event=t.data(),e.event.id=t.id,e.event.participants.forEach(function(t){O.collection("users").doc(t).get().then(function(t){e.users.push(t.data())})}),e.loaded=!0})},methods:{quick:function(e){for(var t=[],a=0;a<this.users.length;a++)e.uid!=this.users[a].uid&&t.push(event.participants[a]);O.collection("events").doc(event.id).set({useremail:event.useremail,name:event.name,date:event.date,description:event.description,adress:event.adress,category:event.category,preciseCategory:event.preciseCategory,nbmax:event.nbmax,participants:t}).then(function(){console.log("unsubscribed!"),event.participants=t}).catch(function(e){console.error("Error writing document: ",e)})},isIn:function(e,t){var a=!1;for(item in e)item===t&&(a=!0);return a}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.users,function(t){return a("div",{staticClass:"container"},[a("span",{staticClass:"name"},[e._v(e._s(t.firstname)+" "+e._s(t.name)+"  "+e._s(t.birthdate))]),e._v(" "),a("v-btn",{staticClass:"button",attrs:{large:"",color:"primary"},on:{click:function(a){e.quick(t)}}},[e._v("Supprimer l'utilisateur")])],1)}))},staticRenderFns:[]};var w=a("VU/8")(N,U,!1,function(e){a("E3eu")},null,null).exports,P={data:function(){var e;return e={user:o.a.auth().currentUser,event:null,display:!1,loaded:!1,snackbar:{active:!1,message:"Il manque des informations pour créer l'évenement"}},M()(e,"user",K.profile),M()(e,"userdata",K.data),e},created:function(){var e=this;this.user=K.profile;var t=document.location.href.split("?");console.log(t[1]),this.user&&(O.collection("events").get().then(function(a){a.forEach(function(a){a.id==t[1]&&(e.event=a.data(),e.event.id=a.id,console.log(a.id))})}),this.loaded=!0)},methods:{deleteEvent:function(e){O.collection("events").doc(e.id).delete().then(function(){console.log("Document successfully deleted!"),location.reload()}).catch(function(e){console.error("Error removing document: ",e),this.snackbar.message="Nous n'avons pas pu supprimer l'évenement",this.snackbar.active=!0})},isIn:function(e,t){var a=!1;for(item in e)item===t&&(a=!0);return a}}},F={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loaded?n("div",{staticClass:"container"},[n("h1",{staticClass:"bigtitle"},[e._v(e._s(e.event.name))]),n("br"),n("br"),e._v(" "),n("p",{staticClass:"adress"},[e._v(e._s(e.event.adress))]),n("p",{staticClass:"date"},[e._v(e._s(e.event.date))]),e._v(" "),n("img",{attrs:{src:a("heaM"),width:"100%"}}),e._v(" "),n("p",[e.event.description?n("b",{staticClass:"bold"},[e._v("Description : ")]):e._e(),e._v(e._s(e.event.description))]),e._v(" "),n("p",{staticClass:"center"},[e._v(e._s(e.event.participants.length)+" / "+e._s(e.event.nbmax))]),e._v(" "),n("v-snackbar",{attrs:{timeout:6e3,bottom:""},model:{value:e.snackbar.active,callback:function(t){e.$set(e.snackbar,"active",t)},expression:"snackbar.active"}},[e._v("\n\t\t\t"+e._s(e.snackbar.message)+"\n\t\t"),n("v-btn",{attrs:{flat:"",color:"primary"},nativeOn:{click:function(t){e.snackbar.active=!1}}},[e._v("Close")])],1)],1):e._e()])},staticRenderFns:[]};var V=a("VU/8")(P,F,!1,function(e){a("bEAi")},null,null).exports;n.a.use(d.a);var D=new d.a({routes:[{path:"/",name:"Welcome",component:x},{path:"/connexion",name:"Connexion",component:f},{path:"/home",name:"Home",component:y},{path:"/register",name:"Register",component:_},{path:"/eventcontainer",name:"EventContainer",component:q},{path:"/addevent",name:"AddEvent",component:T},{path:"/admineventcontainer",name:"AdminEventContainer",component:R},{path:"/adminparticipantmanager",name:"AdminParticipantManager",component:w},{path:"modifyevent",name:"ModifyEvent",component:V}]});a("7zck"),a("881v");a.d(t,"db",function(){return O}),a.d(t,"currentUser",function(){return K}),n.a.config.productionTip=!1,n.a.use(s.a,{theme:{primary:"#FF3D00"}});o.a.initializeApp({apiKey:"AIzaSyD7fIAj4Q0-OCZ6r04Vw_49apjnh1LpNA0",authDomain:"quickbedproject.firebaseapp.com",databaseURL:"https://quickbedproject.firebaseio.com",projectId:"quickbedproject",storageBucket:"quickbedproject.appspot.com",messagingSenderId:"290806261987"});var O=o.a.firestore(),K={logged:!1,profil:null,data:null};new n.a({el:"#app",router:D,components:{App:u},template:"<App/>"})},OJZX:function(e,t){},THiz:function(e,t,a){e.exports=a.p+"static/img/loisirs.3b6100a.jpeg"},VUXg:function(e,t,a){e.exports=a.p+"static/img/cours.d239382.jpeg"},bEAi:function(e,t){},fKkC:function(e,t,a){e.exports=a.p+"static/img/sports.986bb85.jpeg"},heaM:function(e,t,a){e.exports=a.p+"static/img/tronc.72e0bbf.jpeg"},qG1q:function(e,t){},"r+Yn":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.8c383fd4538b88b496ad.js.map